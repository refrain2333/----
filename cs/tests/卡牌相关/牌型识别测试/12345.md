å¥½çš„ï¼Œå®Œå…¨ç†è§£ã€‚æ‚¨çš„æ ¸å¿ƒéœ€æ±‚æ˜¯ï¼š
1.  **å…¬å¼çš„æè‡´æ‹†è§£**ï¼šéœ€è¦ä¸€ä¸ªæå…¶æ˜ç¡®ã€åˆ†æ­¥çš„æœ€ç»ˆå¾—åˆ†è®¡ç®—å…¬å¼ï¼Œå°†æ‰€æœ‰å˜é‡éƒ½æ¸…æ™°åœ°æš´éœ²å‡ºæ¥ï¼Œä»¥ä¾¿äºåç»­è°ƒæ•´å’Œæ‰©å±•ã€‚
2.  **è¸¢è„šç‰Œçš„æ˜ç¡®å¤„ç†**ï¼šç³»ç»Ÿéœ€è¦è¯†åˆ«å‡ºè¸¢è„šç‰Œï¼Œä½†å½“å‰çš„è®¡åˆ†å…¬å¼å¿…é¡»**æ˜¾å¼åœ°ä¸åŒ…å«**å®ƒä»¬çš„å€¼ï¼Œä¸ºæœªæ¥å¯èƒ½çš„å¼•å…¥é¢„ç•™æ¥å£ã€‚
3.  **å¯éªŒè¯çš„è¿”å›å€¼**ï¼šç³»ç»Ÿå¿…é¡»è¿”å›æ‰€æœ‰ä¸­é—´è®¡ç®—å€¼ï¼ˆåŸºç¡€åˆ†ã€ç‰Œé¢åˆ†ã€å€ç‡ç­‰ï¼‰ï¼Œä»¥ä¾¿æ‚¨èƒ½è½»æ¾éªŒè¯æ¯ä¸€æ­¥çš„é€»è¾‘æ˜¯å¦æ­£ç¡®ã€‚

åŸºäºè¿™äº›è¦æ±‚ï¼Œæˆ‘ä¸ºæ‚¨é‡æ„äº†è¿™ä»½ **V2.1 ç‰ˆæœ¬**çš„è¯¦ç»†è®¾è®¡æ–‡æ¡£ã€‚å®ƒå°†æä¾›æ‚¨æ‰€éœ€è¦çš„å…¨éƒ¨ç»†èŠ‚ã€‚

---

## ğŸ¯ å¥¥æœ¯å­¦é™¢æ‰‘å…‹ - V2.1 ç²¾ç¡®åŒ–è®¡åˆ†ä¸æ‰©å±•æ€§è®¾è®¡æ–‡æ¡£ ğŸ“‹

### æ–‡æ¡£æ¦‚è¿°
æœ¬æ–‡æ¡£ä¸ºã€Šå¥¥æœ¯å­¦é™¢æ‰‘å…‹ã€‹æ ¸å¿ƒç³»ç»Ÿçš„ V2.1 ç‰ˆæœ¬è®¾è®¡æŒ‡å—ã€‚V2.1 çš„æ ¸å¿ƒç›®æ ‡æ˜¯**ç²¾ç¡®åŒ–è®¡åˆ†é€»è¾‘**å¹¶**æœ€å¤§åŒ–ç³»ç»Ÿæ‰©å±•æ€§**ã€‚å®ƒåœ¨å‰åºç‰ˆæœ¬çš„åŸºç¡€ä¸Šï¼Œå¯¹å¾—åˆ†å…¬å¼è¿›è¡Œäº†åŸå­åŒ–æ‹†è§£ï¼Œå¹¶æ˜ç¡®äº†è¸¢è„šç‰Œï¼ˆKickerï¼‰åœ¨ç³»ç»Ÿä¸­çš„è§’è‰²â€”â€”**è¯†åˆ«ä½†ä¸è®¡åˆ†**ï¼Œä¸ºæœªæ¥çš„æ¸¸æˆè®¾è®¡é¢„ç•™äº†å……åˆ†çš„çµæ´»æ€§ã€‚

**V2.1 æ ¸å¿ƒè®¾è®¡ç†å¿µï¼š**
*   **å…¬å¼é€æ˜åŒ– (Formula Transparency):** æœ€ç»ˆå¾—åˆ†çš„æ¯ä¸€ä¸ªç»„æˆéƒ¨åˆ†éƒ½å°†è¢«æ¸…æ™°å®šä¹‰ã€è®¡ç®—å’Œè¿”å›ï¼Œæœç»ä»»ä½•â€œé»‘ç›’â€é€»è¾‘ã€‚
*   **æ•°æ®éš”ç¦» (Data Isolation):** ç‰Œå‹è¯†åˆ«ï¼ˆæ˜¯ä»€ä¹ˆç‰Œï¼‰ä¸ç‰Œå‹è®¡åˆ†ï¼ˆå€¼å¤šå°‘åˆ†ï¼‰åœ¨é€»è¾‘ä¸Šåˆ†ç¦»ï¼Œè¸¢è„šç‰Œæ•°æ®è¢«ä¿ç•™ç”¨äºæ¯”å¤§å°ï¼Œä½†ä¸è¿›å…¥è®¡åˆ†æµç¨‹ã€‚
*   **æ¨¡å—åŒ–ä¸å¯æ’æ‹”æ¶æ„ (Modular & Pluggable Architecture):** æ²¿ç”¨å¹¶å¼ºåŒ–å¯æ’æ‹”çš„è¯„ä¼°å™¨ï¼ˆEvaluatorï¼‰è®¾è®¡ï¼Œæ·»åŠ æ–°ç‰Œå‹æˆ–æ–°è§„åˆ™å¯¹ç°æœ‰ç³»ç»Ÿçš„ä¾µå…¥æ€§é™è‡³æœ€ä½ã€‚
*   **æ•°æ®é©±åŠ¨ (Data-Driven):** æ‰€æœ‰æ ¸å¿ƒå¹³è¡¡æ•°å€¼ï¼ˆåŸºç¡€åˆ†ã€å€ç‡ã€ç³»æ•°ï¼‰å‡ç”±å¤–éƒ¨æ•°æ®å®šä¹‰ï¼Œä¾¿äºç­–åˆ’è¿›è¡Œå¿«é€Ÿè¿­ä»£ã€‚

---

### ğŸ—ï¸ æ¨¡å—åŒ–ç³»ç»Ÿæ¶æ„
ç³»ç»Ÿæ¶æ„ä¿æŒ V2.0 çš„é«˜æ•ˆåˆ†å±‚è®¾è®¡ï¼Œæ ¸å¿ƒåœ¨äº**å¯æ’æ‹”çš„ç‰Œå‹è¯„ä¼°å™¨**ã€‚

```mermaid
graph TD
    subgraph "å…¥å£ä¸å±•ç¤ºå±‚"
        HandTypeTestCore[ç»Ÿä¸€æµ‹è¯•ä¸åˆ†æå…¥å£]
        HandTypeResultDisplay[UIç»“æœå±•ç¤ºç»„ä»¶]
    end

    subgraph "æ™ºèƒ½åˆ†æå±‚"
        SmartHandAnalyzer[Nå¼ ç‰Œæœ€ä½³ç»„åˆåˆ†æå™¨]
    end

    subgraph "åŸºç¡€è¯†åˆ«å±‚ (å¯æ’æ‹”)"
        PokerHandAnalyzer[5å¼ ç‰Œè¯†åˆ«è°ƒåº¦å™¨] --> HandEvaluators[ç‰Œå‹è¯„ä¼°å™¨åˆ—è¡¨]
        subgraph HandEvaluators
            direction LR
            RoyalFlushEvaluator
            FiveKindEvaluator
            StraightFlushEvaluator
            FourKindEvaluator
            FullHouseEvaluator
            FlushEvaluator
            StraightEvaluator
            ThreeKindEvaluator
            TwoPairEvaluator
            PairEvaluator
            HighCardEvaluator
        end
    end

    subgraph "æ•°æ®ä¸è®¡ç®—å±‚"
        HandRankingSystem[ç‰Œå‹ç­‰çº§ä¸æ•°æ®ä¸­å¿ƒ]
        ScoreCalculator[ç²¾ç¡®å¾—åˆ†è®¡ç®—å™¨]
    end

    HandTypeTestCore --> SmartHandAnalyzer
    SmartHandAnalyzer --> PokerHandAnalyzer
    PokerHandAnalyzer -- è°ƒç”¨ --> HandEvaluators
    HandTypeTestCore -- ç»„è£…æ•°æ®è°ƒç”¨ --> ScoreCalculator
    ScoreCalculator -- æŸ¥è¯¢æ•°æ® --> HandRankingSystem
    HandTypeTestCore -- æ ¼å¼åŒ–ç»“æœ --> HandTypeResultDisplay
```
**å·¥ä½œæµç¨‹**ï¼š`SmartHandAnalyzer`æ‰¾åˆ°æœ€ä½³5å¼ ç‰Œç»„åˆåï¼Œ`PokerHandAnalyzer`é€šè¿‡è°ƒåº¦`HandEvaluators`ç¡®å®šå…¶ç‰Œå‹ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªåŒ…å«**ç‰Œå‹ã€æ ¸å¿ƒç‰Œå€¼å’Œè¸¢è„šç‰Œ**çš„`HandResult`å¯¹è±¡ã€‚æœ€åï¼Œ`ScoreCalculator`æ ¹æ®è¿™ä¸ª`HandResult`å’Œ`HandRankingSystem`çš„æ•°æ®ï¼Œè®¡ç®—å‡ºåŒ…å«æ‰€æœ‰ä¸­é—´æ­¥éª¤çš„`ScoreResult`å¯¹è±¡ã€‚

---
### ğŸƒ åŠ¨æ€ç‰Œå‹ç­‰çº§ç³»ç»Ÿ
æ­¤éƒ¨åˆ†æ•°æ®ä¸å˜ï¼Œç”± `HandRankingSystem` ç®¡ç†ï¼Œä»å¤–éƒ¨æ•°æ®æ–‡ä»¶åŠ è½½ã€‚

| ç­‰çº§ | ç‰Œå‹ | è‹±æ–‡å | åŸºç¡€åˆ† | LV1å€ç‡ | æ¯çº§å¢é‡ | LV5å€ç‡ |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 1 | é«˜ç‰Œ | `HIGH_CARD` | 1 | 1.0x | +0.2x | 1.8x |
| ... | ... | ... | ... | ... | ... | ... |
| 11 | äº”æ¡ | `FIVE_KIND` | 144 | 50.0x | +10.0x | 90.0x |

---
### ğŸ¯ ç²¾ç¡®åŒ–æœ€ç»ˆå¾—åˆ†è®¡ç®—ç³»ç»Ÿ (V2.1 æ ¸å¿ƒ)

æœ¬èŠ‚å°†å¯¹å¾—åˆ†å…¬å¼è¿›è¡Œæœ€è¯¦å°½çš„æ‹†è§£ï¼Œç¡®ä¿æ¯ä¸ªå˜é‡çš„æ¥æºå’Œè®¡ç®—æ–¹å¼éƒ½æ¸…æ™°å¯è§ã€‚

#### 1. åŸå­åŒ–æœ€ç»ˆå¾—åˆ†å…¬å¼

**`æœ€ç»ˆå¾—åˆ† (FinalScore)` = `ROUND( (åŸºç¡€ç‰Œå‹åˆ† + ç‰Œé¢ä»·å€¼åˆ† + é™„åŠ åˆ†) Ã— åŠ¨æ€å€ç‡ )`**

| å˜é‡å | è‹±æ–‡å˜é‡ | è®¡ç®—æ¥æº / è·å–æ–¹å¼ | è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| **åŸºç¡€ç‰Œå‹åˆ†** | `baseScore` | `HandRankingSystem.get_base_score(handType)` | ç‰Œå‹å›ºå®šçš„åŸºç¡€åˆ†å€¼ï¼Œä»£è¡¨å…¶ç¨€æœ‰åº¦ã€‚ |
| **ç‰Œé¢ä»·å€¼åˆ†** | `valueScore` | `ScoreCalculator.calculate_value_score(handResult)` | **æ ¸å¿ƒå˜åŒ–ç‚¹**ï¼Œä»…ç”±æ„æˆç‰Œå‹çš„æ ¸å¿ƒå¡ç‰Œè®¡ç®—å¾—å‡ºã€‚ |
| **é™„åŠ åˆ†** | `bonusScore` | ä»å¡ç‰Œæ•ˆæœï¼ˆèœ¡å°ã€ç‰Œæ¡†ï¼‰ä¸­ç´¯åŠ  | å¤–éƒ¨æ•ˆæœæä¾›çš„åˆ†æ•°ï¼Œä½“ç°ååŒæ•ˆåº”ã€‚ |
| **åŠ¨æ€å€ç‡** | `dynamicMultiplier` | `HandRankingSystem.get_multiplier(handType)` | æ ¹æ®ç‰Œå‹ç­‰çº§ï¼ˆLV1-LV5ï¼‰è®¡ç®—å‡ºçš„æœ€ç»ˆå€ç‡ã€‚ |

#### 2. ç‰Œé¢ä»·å€¼åˆ† (`valueScore`) è®¡ç®—è§„åˆ™

è¿™æ˜¯å®ç°**é€»è¾‘éªŒè¯**çš„å…³é”®ã€‚è®¡ç®—å™¨ä»…ä½¿ç”¨`HandResult`ä¸­æä¾›çš„æ ¸å¿ƒç‰Œå€¼ (`PrimaryValue`, `SecondaryValue`)ã€‚

| ç‰Œå‹ | æ ¸å¿ƒè®¡åˆ†ç‰Œ | è®¡ç®—å…¬å¼ | `HandResult` è¿”å›å€¼ |
| :--- | :--- | :--- | :--- |
| é«˜ç‰Œ | ä»·å€¼æœ€é«˜çš„1å¼ ç‰Œ | `[æœ€é«˜ç‰Œå€¼] Ã— 2` | `PrimaryValue`: æœ€é«˜ç‰Œå€¼ |
| **ä¸€å¯¹** | æ„æˆå¯¹å­çš„2å¼ ç‰Œ | `[å¯¹å­ç‰Œå€¼] Ã— 4` | `PrimaryValue`: å¯¹å­ç‰Œå€¼ |
| **ä¸¤å¯¹** | æ„æˆå¤§å¯¹å­çš„2å¼ ç‰Œ + æ„æˆå°å¯¹å­çš„2å¼ ç‰Œ | `([å¤§å¯¹å­ç‰Œå€¼] Ã— 6) + ([å°å¯¹å­ç‰Œå€¼] Ã— 4)` | `PrimaryValue`: å¤§å¯¹å­ç‰Œå€¼<br>`SecondaryValue`: å°å¯¹å­ç‰Œå€¼ |
| **ä¸‰æ¡** | æ„æˆä¸‰æ¡çš„3å¼ ç‰Œ | `[ä¸‰æ¡ç‰Œå€¼] Ã— 8` | `PrimaryValue`: ä¸‰æ¡ç‰Œå€¼ |
| é¡ºå­ | å…¨éƒ¨5å¼ ç‰Œ | `[ç‰Œ1+ç‰Œ2+ç‰Œ3+ç‰Œ4+ç‰Œ5]` | `PrimaryValue`: é¡ºå­æœ€é«˜ç‰Œå€¼ |
| åŒèŠ± | å…¨éƒ¨5å¼ ç‰Œ | `([ç‰Œ1+ç‰Œ2+ç‰Œ3+ç‰Œ4+ç‰Œ5]) Ã— 1.2` | `PrimaryValue`: åŒèŠ±æœ€é«˜ç‰Œå€¼ |
| **è‘«èŠ¦** | æ„æˆä¸‰æ¡çš„3å¼ ç‰Œ + æ„æˆå¯¹å­çš„2å¼ ç‰Œ | `([ä¸‰æ¡ç‰Œå€¼] Ã— 10) + ([å¯¹å­ç‰Œå€¼] Ã— 6)` | `PrimaryValue`: ä¸‰æ¡ç‰Œå€¼<br>`SecondaryValue`: å¯¹å­ç‰Œå€¼ |
| **å››æ¡** | æ„æˆå››æ¡çš„4å¼ ç‰Œ | `[å››æ¡ç‰Œå€¼] Ã— 15` | `PrimaryValue`: å››æ¡ç‰Œå€¼ |
| åŒèŠ±é¡º | å…¨éƒ¨5å¼ ç‰Œ | `([ç‰Œ1+ç‰Œ2+ç‰Œ3+ç‰Œ4+ç‰Œ5]) Ã— 2` | `PrimaryValue`: é¡ºå­æœ€é«˜ç‰Œå€¼ |
| çš‡å®¶åŒèŠ±é¡º | (ç‰¹æ®Š) | å›ºå®šå€¼ `200` | `PrimaryValue`: 14 (A) |
| **äº”æ¡** | æ„æˆäº”æ¡çš„5å¼ ç‰Œ | `[äº”æ¡ç‰Œå€¼] Ã— 20` | `PrimaryValue`: äº”æ¡ç‰Œå€¼ |

**Aå€¼å¤„ç†**:
*   `A-2-3-4-5` é¡ºå­/åŒèŠ±é¡ºä¸­ï¼Œ`A` è®¡ä¸º `1`ã€‚
*   å…¶ä»–æ‰€æœ‰æƒ…å†µï¼Œ`A` è®¡ä¸º `14`ã€‚

#### 3. è®¡ç®—ç¤ºä¾‹ä¸å¯éªŒè¯è¿”å›å€¼

**ç¤ºä¾‹1: ä¸¤å¯¹ (Kings over Eights)**
*   **æ‰‹ç‰Œ**: `[Kâ™¥, Kâ™ , 8â™¦, 8â™£, Aâ™£]`
*   **é™„åŠ åˆ†**: 15 (æ¥è‡ªæŸç‰¹æ®Šæ•ˆæœ)
*   **ç‰Œå‹ç­‰çº§**: ä¸¤å¯¹ LV3

**Step 1: ç‰Œå‹è¯†åˆ« (`PokerHandAnalyzer`)**
*   **è¯†åˆ«ç»“æœ (`HandResult`)**:
    *   `handType`: `TWO_PAIR`
    *   `primaryValue`: **13** (King)
    *   `secondaryValue`: **8** (Eight)
    *   `kickers`: `[14]` (Ace) - **æ­¤å€¼ä»…ç”¨äºæ¯”å¤§å°ï¼Œä¸å‚ä¸è®¡åˆ†**

**Step 2: å¾—åˆ†è®¡ç®— (`ScoreCalculator`)**
*   **è·å–å˜é‡**:
    *   `baseScore`: 3 (ä»`HandRankingSystem`è·å–`TWO_PAIR`çš„åŸºç¡€åˆ†)
    *   `valueScore`: `(primaryValue Ã— 6) + (secondaryValue Ã— 4)` -> `(13 Ã— 6) + (8 Ã— 4)` = `78 + 32` = **110**
    *   `bonusScore`: **15** (ä¼ å…¥çš„é™„åŠ åˆ†)
    *   `dynamicMultiplier`: `2.0 + (3 - 1) Ã— 0.4` = `2.0 + 0.8` = **2.8x** (ä»`HandRankingSystem`è®¡ç®—LV3ä¸¤å¯¹çš„å€ç‡)

*   **æœ€ç»ˆè®¡ç®—**:
    *   `FinalScore` = `ROUND( (3 + 110 + 15) Ã— 2.8 )`
    *   `FinalScore` = `ROUND( 128 Ã— 2.8 )`
    *   `FinalScore` = `ROUND( 358.4 )` = **358**

**ç³»ç»Ÿåº”è¿”å›çš„è¯¦ç»†ç»“æœ (`ScoreResult` å¯¹è±¡)**:
```json
{
  "finalScore": 358,
  "baseScore": 3,
  "valueScore": 110,
  "bonusScore": 15,
  "totalBase": 128, // (base + value + bonus)
  "dynamicMultiplier": 2.8,
  "calculationFormula": "ROUND(((3 + 110) + 15) * 2.8)"
}
```

---
### ğŸ”§ æ‰©å±•æ€§è®¾è®¡æŒ‡å—

#### å¦‚ä½•ä¸ºè¸¢è„šç‰Œå¢åŠ ä¸€ç§æ–°çš„è®¡åˆ†æ–¹å¼ï¼Ÿ
å‡è®¾æœªæ¥æƒ³å¼•å…¥ä¸€ä¸ªâ€œå­¤é«˜ç‹è€…â€æ•ˆæœï¼šå¦‚æœè¸¢è„šç‰Œæ˜¯Aï¼Œåˆ™é¢å¤–å¢åŠ  `è¸¢è„šç‰Œä»·å€¼ Ã— ç­‰çº§` çš„åˆ†æ•°ã€‚

1.  **å®šä½ä¿®æ”¹ç‚¹**: `ScoreCalculator`ã€‚
2.  **ä¿®æ”¹ `calculate_score` å‡½æ•°**:
    ```csharp
    public ScoreResult CalculateScore(HandResult handResult, int level, int bonusScore, GameState gameState) {
        // ... (ç°æœ‰è®¡ç®—é€»è¾‘) ...

        // æ–°å¢é€»è¾‘ï¼šæ£€æŸ¥ç‰¹æ®Šæ•ˆæœ
        if (gameState.HasEffect("å­¤é«˜ç‹è€…") && handResult.Kickers.Contains(14)) {
            int kickerBonus = 14 * level;
            // å°†è¿™éƒ¨åˆ†åˆ†æ•°åŠ åˆ° bonusScore æˆ–ä¸€ä¸ªæ–°çš„å˜é‡ä¸­
            totalBonusScore += kickerBonus; 
        }

        // ... (ç»§ç»­æœ€ç»ˆè®¡ç®—) ...
    }
    ```
**ä¼˜åŠ¿**: ç”±äº`HandResult`å·²ç»å°†`Kickers`æ•°æ®åˆ†ç¦»å‡ºæ¥ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°æ·»åŠ æ–°è§„åˆ™æ¥åˆ©ç”¨å®ƒï¼Œè€Œæ— éœ€æ”¹åŠ¨ç‰Œå‹è¯†åˆ«æˆ–åŸºç¡€è®¡åˆ†é€»è¾‘ã€‚

---
### ğŸ§ª æµ‹è¯•ä¸è°ƒè¯•

#### å¢å¼ºçš„æ—¥å¿—è¾“å‡º
ä¸ºäº†ä¾¿äºéªŒè¯ï¼Œæ—¥å¿—è¾“å‡ºåº”ç›´æ¥åæ˜ `ScoreResult`çš„æ‰€æœ‰å­—æ®µã€‚

**V2.1 æ—¥å¿—è¾“å‡ºç¤ºä¾‹**:
```
ğŸ¯ ç‰Œå‹è¯†åˆ«: ä¸¤å¯¹ (K over 8)
ğŸƒ æœ€ä½³ç»„åˆ: Kâ™¥, Kâ™ , 8â™¦, 8â™£, Aâ™£
    - æ ¸å¿ƒç‰Œ: Kâ™¥, Kâ™ , 8â™¦, 8â™£
    - è¸¢è„šç‰Œ: Aâ™£ (ä¸è®¡åˆ†)
ğŸ’° å¾—åˆ†è¯¦æƒ… (ä¸¤å¯¹ LV3):
   - æœ€ç»ˆå¾—åˆ†: 358
   - è®¡ç®—å…¬å¼: ROUND(((3 + 110) + 15) * 2.8)
   - [æ˜ç»†] åŸºç¡€åˆ†: 3
   - [æ˜ç»†] ç‰Œé¢åˆ†: 110 (KÃ—6 + 8Ã—4)
   - [æ˜ç»†] é™„åŠ åˆ†: 15
   - [æ˜ç»†] ç­‰çº§å€ç‡: 2.8x
ğŸ“Š åˆ†æå…ƒæ•°æ®:
   - è€—æ—¶: 1ms
   - æµ‹è¯•ç»„åˆæ•°: 1
```
è¿™ç§æ ¼å¼ä½¿å¼€å‘è€…æˆ–QAèƒ½ä¸€çœ¼çœ‹å‡ºè®¡ç®—çš„æ¯ä¸€æ­¥æ˜¯å¦æ­£ç¡®ã€‚

---
### ğŸ“š APIæ¥å£ä¸æ•°æ®ç»“æ„ (V2.1)

#### `HandResult` - ç‰Œå‹è¯†åˆ«ç»“æœ
èŒè´£ï¼šæè¿°â€œ**è¿™æ˜¯ä¸€æ‰‹ä»€ä¹ˆç‰Œ**â€ã€‚
```csharp
public class HandResult {
    public HandType HandType { get; set; }           // ç‰Œå‹æšä¸¾
    public int PrimaryValue { get; set; }            // ä¸»è¦ç‰Œå€¼ (e.g., å¯¹å­/ä¸‰æ¡çš„å€¼)
    public int SecondaryValue { get; set; }          // æ¬¡è¦ç‰Œå€¼ (e.g., ä¸¤å¯¹/è‘«èŠ¦çš„æ¬¡çº§å€¼)
    public List<Card> ContributingCards { get; set; } // æ„æˆç‰Œå‹çš„æ ¸å¿ƒå¡ç‰Œ
    public List<int> Kickers { get; set; }           // è¸¢è„šç‰Œæ•°å€¼ (ä»…ç”¨äºæ¯”å¤§å°, ä¸å‚ä¸è®¡åˆ†!)
}
```

#### `ScoreResult` - å¾—åˆ†è®¡ç®—ç»“æœ (æ–°å¢)
èŒè´£ï¼šæè¿°â€œ**è¿™æ‰‹ç‰Œå€¼å¤šå°‘åˆ†ï¼Œä»¥åŠå¦‚ä½•ç®—å‡ºæ¥çš„**â€ã€‚
```csharp
public class ScoreResult {
    public int FinalScore { get; set; }              // æœ€ç»ˆå¾—åˆ† (å–æ•´å)
    public float RawScore { get; set; }              // åŸå§‹å¾—åˆ† (å–æ•´å‰)
    public int BaseScore { get; set; }               // åŸºç¡€ç‰Œå‹åˆ†
    public int ValueScore { get; set; }              // ç‰Œé¢ä»·å€¼åˆ†
    public int BonusScore { get; set; }              // é™„åŠ åˆ†
    public float DynamicMultiplier { get; set; }     // åŠ¨æ€å€ç‡
    public string CalculationFormula { get; set; }   // å­—ç¬¦ä¸²å½¢å¼çš„è®¡ç®—å…¬å¼ï¼Œç”¨äºè°ƒè¯•
}
```

#### `HandTypeTestCore` - ç»Ÿä¸€åˆ†ææ¥å£
```csharp
// è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰ä½ éœ€è¦ä¿¡æ¯çš„å°è£…å¯¹è±¡
public FullAnalysisResult AnalyzeHand(List<Card> cards, int bonusScore) {
    // 1. è°ƒç”¨ SmartHandAnalyzer æ‰¾åˆ°æœ€ä½³5å¼ ç‰Œ
    List<Card> bestHand = SmartHandAnalyzer.FindBestHand(cards);

    // 2. è°ƒç”¨ PokerHandAnalyzer è¯†åˆ«ç‰Œå‹
    HandResult handResult = PokerHandAnalyzer.Analyze(bestHand);

    // 3. è°ƒç”¨ ScoreCalculator è®¡ç®—å¾—åˆ†
    ScoreResult scoreResult = ScoreCalculator.Calculate(handResult, bonusScore);

    // 4. ç»„è£…å¹¶è¿”å›æ‰€æœ‰ä¿¡æ¯
    return new FullAnalysisResult {
        HandResult = handResult,
        ScoreResult = scoreResult,
        // ... å…¶ä»–è°ƒè¯•ä¿¡æ¯
    };
}
```

### æ ¸å¿ƒè¦ç‚¹æ€»ç»“
1.  **è®¡åˆ†å…¬å¼å·²å®Œå…¨æ‹†è§£**ï¼š`FinalScore = ROUND((base + value + bonus) * multiplier)`ï¼Œæ¯ä¸ªå˜é‡éƒ½æœ‰æ˜ç¡®çš„æ¥æºå’Œè®¡ç®—æ–¹æ³•ã€‚
2.  **è¸¢è„šç‰Œè¢«æ­£ç¡®å¤„ç†**ï¼š`HandResult`ä¼šæºå¸¦`Kickers`æ•°æ®ï¼Œä½†`ScoreCalculator`åœ¨è®¡ç®—`valueScore`æ—¶ä¼š**å®Œå…¨å¿½ç•¥**å®ƒï¼Œä¸ºæœªæ¥æ‰©å±•æä¾›äº†å¹²å‡€çš„æ¥å£ã€‚
3.  **è¿”å›å€¼æ»¡è¶³éªŒè¯éœ€æ±‚**ï¼šç³»ç»Ÿæœ€ç»ˆä¼šæä¾›ä¸€ä¸ªåŒ…å«`ScoreResult`çš„è¯¦å°½ç»“æœå¯¹è±¡ï¼Œå†…å«æ‰€æœ‰ä¸­é—´è®¡ç®—å€¼å’Œå…¬å¼å­—ç¬¦ä¸²ï¼Œæ–¹ä¾¿æ‚¨è¿›è¡Œå•å…ƒæµ‹è¯•å’Œé€»è¾‘éªŒè¯ã€‚
4.  **æ¶æ„ä¿æŒé«˜åº¦å¯æ‰©å±•**ï¼šæ·»åŠ æ–°ç‰Œå‹ã€æ–°è®¡åˆ†è§„åˆ™çš„æµç¨‹æ¸…æ™°ï¼Œå¯¹ç°æœ‰ä»£ç çš„ä¿®æ”¹æå°ã€‚